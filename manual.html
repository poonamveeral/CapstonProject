<!---
To compile this document:
Scroll down to Compiling and Converting the Document-- choose either command (HTML, ODT, PDF), change 'example' file to 'manual' and follow instructions from there.  
-->
<p><em>Overview</em> <em>The Generating Documents (Basic) Using Markdown User Manual outlines the objectives, requirements, and needs to be addressed when training users on how to generate a PDF, HTML, or ODT document using markdown file. The plan presents the activities needed to support file development.</em></p>
<h1 id="introduction">Introduction</h1>
<p>Markdown is a fast and easy way to take notes, create content for a website, and produce print-ready documents. It’s a lightweight markup language with plain text formatting syntax. Markdown is designed to be converted to many different output formats such as PDF, Word, ODT, HTML, and many more. It is both portable and platform independent, more intuitive to read and write, and can be used for websites, documents, notes, books, etc., but is often used to format readme files and in online discussion forums.</p>
<h2 id="how-does-markdown-work">How Does Markdown Work?</h2>
<p>Markdown text is written and stored in plaintext file with a markdown extension (e.g. .md). Using a separate markdown application capable of processing markdown (we will be using Pandoc), it takes the markdown formatted text and converts it to HTML. The HTML file can then be viewable in a web browser or then converted to another file format, like PDF.</p>
<figure>
<img src="img/markdownproc.png" style="height:50.0%" alt="" /><figcaption>Figure 1.1: Markdown text file is converted and displayed in a web browser</figcaption>
</figure>
<h1 id="requirements">Requirements</h1>
<h2 id="skills-required">Skills required</h2>
<ul>
<li>Markdown
<ul>
<li>For a basic tutorial visit: <a href="https://commonmark.org/help/tutorial/" class="uri">https://commonmark.org/help/tutorial/</a></li>
</ul></li>
</ul>
<p>Helpful Skills:</p>
<ul>
<li>LaTex code</li>
<li>Common terminal commands
<ul>
<li>For more information visit: <a href="https://www.dummies.com/computers/macs/mac-operating-systems/how-to-use-basic-unix-commands-to-work-in-terminal-on-your-mac/" class="uri">https://www.dummies.com/computers/macs/mac-operating-systems/how-to-use-basic-unix-commands-to-work-in-terminal-on-your-mac/</a></li>
</ul></li>
<li>Pandoc’s Markdown
<ul>
<li>For more information visit: <a href="https://pandoc.org/MANUAL.html#pandocs-markdown" class="uri">https://pandoc.org/MANUAL.html#pandocs-markdown</a></li>
</ul></li>
<li>YAML (YAML Ain’t Markup Language)
<ul>
<li>For more information visit: <a href="https://blog.stackpath.com/yaml/" class="uri">https://blog.stackpath.com/yaml/</a></li>
</ul></li>
</ul>
<h2 id="software-requirements">Software Requirements</h2>
<p>For a fully functioning environment and step by step guide on installation instructions follow the instructions below:</p>
<p>NOTE: All the following steps must be installed on a Linux operating system.</p>
<ol type="1">
<li>Install <a href="https://github.com">Git</a> In your terminal, type (as root): <code>apt update</code> then type: <code>apt install git</code></li>
</ol>
<p>NOTE: Upon opening your terminal, you may see username@hostname:~$. You want your terminal to run as root@hostname. To do this, upon opening your terminal, type: <code>su --</code></p>
<p>Then enter your password. You should see something like this:</p>
<p><img src="img/rootuser.png" alt="Terminal Root User" /><br />
</p>
<ol start="2" type="1">
<li><p>Install <a href="https://gnu.org/software/make/manual/make.html">Make</a> In your terminal, type (as root): <code>apt-get update</code> then type: <code>apt-get install build-essential</code></p></li>
<li><p>Install <a href="https://latex-project.org">LaTex</a></p></li>
</ol>
<ul>
<li>Download <a href="http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz">install-tl-unx.tar.gz</a> from <a href="https://www.tug.org/texlive/acquire-netinstall.html" class="uri">https://www.tug.org/texlive/acquire-netinstall.html</a></li>
<li>Extract the folder</li>
<li>In the terminal, navigate to the location of the extracted folder</li>
<li>In the terminal, type (as root): perl install-tl</li>
<li>When prompted, enter command: <code>I</code></li>
</ul>
<ol start="4" type="1">
<li><p>Install <a href="https://python.org/download/releases/3.0/">Python 3</a> In your terminal type (as root): <code>apt-get install python3-pip</code></p></li>
<li><p>Install <a href="https://pandoc.org">Pandoc</a></p></li>
</ol>
<ul>
<li>Download <a href="https://github.com/jgm/pandoc/releases/download/2.9.1.1/pandoc-2.9.1.1-1-amd64.deb"><span class="underline">pandoc-2.9.1.1-1-amd64.deb</span></a> from <a href="https://github.com/jgm/pandoc/releases/tag/2.9.1.1" class="uri">https://github.com/jgm/pandoc/releases/tag/2.9.1.1</a></li>
<li>From your terminal navigate to location of the downloaded Pandoc folder (most likely the downloads folder) and type: <code>dpkg -i pandoc-2.9.1.1-1-amd64.deb</code></li>
</ul>
<ol start="6" type="1">
<li>Install <a href="https://github.com/owickstrom/pandoc-include-code">pandoc-include-code</a> filter</li>
</ol>
<ul>
<li>In your terminal (as normal user) type: <code>cabal update</code>
<ul>
<li>(cabal is a system for building and packaging Haskell libraries and programs. If cabal command not found then type (as root)): <code>apt-get install haskell-platform</code></li>
<li>Then, (as normal user) type: <code>cabal update</code></li>
</ul></li>
</ul>
<p>NOTE: To run terminal as a normal user, type: <code>su - username</code> where “username” is your username. You should see something like this:</p>
<p><img src="img/normaluser.png" alt="Terminal Normal User" /><br />
</p>
<ul>
<li>Then type: <code>cabal install pandoc-types</code></li>
<li>Go to <a href="https://github.com/owickstrom/pandoc-include-code" class="uri">https://github.com/owickstrom/pandoc-include-code</a> and download the repository by clicking “Download ZIP” and extract the folder</li>
<li>In your terminal, navigate to the extracted folder</li>
<li>In your terminal type: <code>cabal configure</code></li>
<li>Then type: <code>cabal install</code></li>
</ul>
<ol start="7" type="1">
<li><p>Install <a href="https://github.com/chdemko/pandoc-numbering">pandoc-numbering</a> filter Type (as normal user): <code>pip3 install pandoc-numbering</code></p></li>
<li><p>Install <a href="https://mg.readthedocs.io/latexmk.html">latexmk</a> fully automated latex document generation</p></li>
</ol>
<ul>
<li>Go to <a href="https://ctan.org/pkg/latexmk/" class="uri">https://ctan.org/pkg/latexmk/</a></li>
<li>Click download link and download and extract the file.</li>
<li>Open the extracted latexmk folder, locate the “latexmk.pl” file and move it to “~/.local/bin” and rename it to “latexmk”.</li>
</ul>
<p>NOTE: You may need to expose hidden files while in “Home”. To do this press Ctrl + H.</p>
<ol start="9" type="1">
<li><p>Install <a href="https://github.com/dawbarton/pdfsvg">pdf2svg</a> In your terminal type (as root): <code>apt-get install pdf2svg</code></p></li>
<li><p>Install <a href="https://github.com/teemu/librsvg2-bin">librsvg2-bin</a> In your terminal type (as root): <code>apt-get install librsvg2-bin</code></p></li>
<li><p>Install <a href="https://packages.debian.org/sid/tex/texlive-xetex">texlive-xetex</a> In your terminal type (as root): <code>apt-get install texlive-xetex</code></p></li>
<li><p>Install linuxlibertine font and freefont</p></li>
</ol>
<ul>
<li>In your terminal type (as root): <code>apt-get install fonts-linuxlibertine</code></li>
<li>Then type: <code>apt-get install fonts-freefont-ttf</code></li>
</ul>
<ol start="13" type="1">
<li><p>Clone this <a href="https://github.com/poonamveeral/GeneralRepo">basic folder structure</a> (as a normal user) Type: <code>git clone https://github.com/poonamveeral/GeneralRepo</code></p></li>
<li><p>Testing Pandoc</p></li>
</ol>
<ul>
<li>In your terminal, navigate to Course/install</li>
<li>In your terminal type: <code>pandoc test_pandoc.md -o test_pandoc.html</code></li>
<li>In the install folder, you should see a file called “test_pandoc.html”</li>
</ul>
<ol start="15" type="1">
<li>Testing pandoc-numbering</li>
</ol>
<ul>
<li>In the same install folder, type:</li>
</ul>
<p><code>pandoc test_pandoc-numbering.md --filter pandoc-numbering -o test_pandoc-numbering.html</code></p>
<ul>
<li>If you’re receiving errors, in your terminal, type: <code>export PATH=$PATH:/home/username/.local/bin</code></li>
<li>In the install folder, you should see a file called “test_pandoc-numbering.html”</li>
</ul>
<ol start="16" type="1">
<li>Test pandoc-citeproc</li>
</ol>
<ul>
<li>In the same install folder, type:</li>
</ul>
<p><code>pandoc --filter pandoc-citeproc test_pandoc-citeproc.md -o test_pandoc-citeproc.html</code></p>
<ul>
<li>In the install folder, you should see a file called “test_pandoc-citeproc.html”</li>
</ul>
<ol start="17" type="1">
<li>Test pandoc-include-code</li>
</ol>
<ul>
<li>In the same install folder, type: <code>pandoc --filter pandoc-include-code -o test_pandoc-include-code.pdf test_pandoc-include-code.md</code></li>
<li>In the install folder, you should see a file called “test_pandoc-citeproc.html”</li>
</ul>
<p>If you’re receiving “Could not find executable pandoc-include-code” * Go to the root folder, and open the “.bashrc” file with a text editor * Add the line below to the bottom of the file and click “save” to save the file:</p>
<p><code>export PATH=$PATH:/home/username/.cabal/bin</code></p>
<h1 id="creating-the-document">Creating the Document</h1>
<p>Follow these steps to learn how to create a simple markdown document utilizing bibliographies, images/figures, and code blocks.</p>
<h2 id="step-1">Step 1</h2>
<p>To start off, you’re going to need a folder structure set up like this:</p>
<p><img src="img/folderstructure.png" alt="Folder Structure" /><br />
</p>
<p>If you completed number 13 from 2.2 Software Requirements skip step 2. If not, continue on.</p>
<h2 id="step-2">Step 2</h2>
<p>You want each folder to contain:</p>
<pre class="plain"><code>.
├── install/                -- How to install requirements to compile the document.
│   ├── .md files           -- To test Pandoc
├── bib/            -- References (including reference to the document). 
│   ├── .bib files          -- To store citations.
├── code/           -- Source code included in the document.
│   ├── code files          -- (E.g. .java, .xml, .sql)
├── fig/            -- Source code for various figures used in the document.
├── img/                -- Various image files itegrated in the document.
├── latex/          -- Latex configuration file.
├── style/                  -- CSS style used for the web page.
├── Makefile                -- Directives to generate example.md document.
├── README.md               -- The present file.
└── example.md              -- Sample file to test.</code></pre>
<p>An example of a basic template of a markdown file can be found at “example.md” in the generic repo from step 13 from above.</p>
<h1 id="compiling-and-converting-the-document">Compiling and Converting the Document</h1>
<p>Follow these steps to learn how to compile and convert a markdown file to PDF, ODT, and HTML. Other possible conversion formats can be found here: <a href="https://pandoc.org/" class="uri">https://pandoc.org/</a></p>
<ul>
<li><p>Open up a terminal, inside of it, change your directory to where your markdown file is located. In this example, navigate to your “Course” folder. To do this, simply type: <code>cd Course</code> where “Course” is the name of your Course folder.</p></li>
<li><p>Next, type: <code>make fig</code> “make fig” compiles all the latex code in order to produce the figures from the figures folder.</p></li>
<li><p>Then type: <code>make fig_svg</code> “make fig_svg” compiles all the latex code in order to produce the figures from the figures folder.</p></li>
<li><p>To produce a PDF document common format is:</p></li>
</ul>
<p><code>pandoc &lt;filters&gt; inputfile.md -o outputfile.ext</code></p>
<p>or</p>
<p><code>pandoc &lt;filters&gt; -o outputfile.ext inputfile.md</code></p>
<h2 id="pdf">PDF</h2>
<p>For our example, in your terminal, while in the directory of where your markdown file is located, which should be your “Course” folder, type:</p>
<p><code>make pdf</code></p>
<p>or</p>
<pre><code>pandoc --toc --filter pandoc-numbering --filter pandoc-citeproc --filter pandoc-include-code \
--top-level-division=chapter -M date=&quot;$(LANG=en_us_88591 date &#39;+%B %e, %Y (%r)&#39;)&quot; \
--pdf-engine=xelatex --pdf-engine-opt=-shell-escape -V links-as-notes \
--default-image-extension=pdf -o example.pdf example.md</code></pre>
<p>To check if the results worked, from your desktop, navigate to your “Course” folder. You should see a new file called “example.pdf”.</p>
<h2 id="odt">ODT</h2>
<p>For our example, in your terminal, while in the directory of where your markdown file is located, which should be your “Course” folder, type:</p>
<p><code>make odt</code></p>
<p>or</p>
<pre><code>pandoc  --toc --filter pandoc-numbering --filter pandoc-citeproc --filter pandoc-include-code \
--top-level-division=chapter -M date=&quot;$(LANG=en_us_88591 date &#39;+%B %e, %Y (%r)&#39;)&quot; \
--default-image-extension=svg -o example.odt example.md</code></pre>
<p>To check if the results worked, from your desktop, navigate to your “Course” folder. You should see a new file called “example.odt”.</p>
<h2 id="html">HTML</h2>
<p>For our example, in your terminal, while in the directory of where your markdown file is located, which should be your “Course” folder, type:</p>
<p><code>make html</code></p>
<p>or</p>
<pre><code>pandoc --toc --filter pandoc-numbering --filter pandoc-citeproc --filter pandoc-include-code \
--top-level-division=chapter -M date=&quot;$(LANG=en_us_88591 date &#39;+%B %e, %Y (%r)&#39;)&quot; \
--css=style/style.css --toc-depth=1 --self-contained --default-image-extension=svg \
-o example.html example.md</code></pre>
<p>where “style.css” is the name of your css file.</p>
<p>To check if the results worked, from your desktop, navigate to your “Course” folder. You should see a new file called “example.html”.</p>
