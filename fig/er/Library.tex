\documentclass[border=20pt]{standalone}
\input{template.def}

\begin{tikzpicture}[node distance=1.5cm]
	\node[entity] (COPY) {COPY};
	\node[attribute] [above of=COPY] {\key{Code}} edge (COPY);
	%
	\node[relationship] (POSSESSES) [left = 1.5cm of COPY] {POSSESSES} edge[total] node[above, pos=0.4] {$\cM$} (COPY);
	%
	\node[entity] (LIBRARY) [left = 1.5cm of POSSESSES] {LIBRARY} edge node[above, pos=0.6]{$1$} (POSSESSES);
	\node[attribute] [above of = LIBRARY] {\key{Name}} edge (LIBRARY);
	\node[attribute] (Address) [left = 0.5cm of LIBRARY] {Address} edge (LIBRARY);
	\node[attribute] [above left of = Address] {Number} edge (Address);
	\node[attribute] [left = .5cm of Address] {Street} edge (Address);
	\node[attribute] [below left of = Address] {Zip} edge (Address);
	%
	\node[relationship] (OF) [right = 1.5cm of COPY] {OF} edge[total] node[above, pos=0.4] {$\cM$} (COPY);
	%
	\node[entity] (DOCUMENT) [right = 1.5cm of OF] {DOCUMENT} edge node[above, pos=0.6]{$1$} (OF);
	\node[attribute] [below of = DOCUMENT] {\key{Catalog Number}} edge (DOCUMENT);
	\node[attribute] [above of = DOCUMENT] {Kind} edge (DOCUMENT);
	\node[attribute] [right = .5cm of DOCUMENT] {Title} edge (DOCUMENT);
	%
	\node[relationship] (BORROWEDBY) [below left = 2cm and 0.5cm of COPY] {BORROWED\_BY} edge node[left, pos=0.4] {$\cM$} (COPY);
	\node[attribute] [left = .5cm of BORROWEDBY] {Return\_Date} edge (BORROWEDBY);
	%
	\node[relationship] (HOLDBY) [below right = 2cm and 0.5cm of COPY] {HOLD\_BY} edge node[right, pos=0.4] {$\cM$} (COPY);
	\node[attribute] [right = .5cm of HOLDBY] {Expiration\_Date} edge (HOLDBY);
	%
	\node[entity] (PATRON) [below = 5cm of COPY] {PATRON} edge node[left] {$1$} (HOLDBY) edge node[right] {$1$} (BORROWEDBY);
	\node[attribute] [below right = 1cm of PATRON] {\key{Card Number}} edge (PATRON);
	\node[attribute] [below = 1cm of PATRON] {Name} edge (PATRON);
	\node[attribute] [below left = 1cm of PATRON] {Email} edge (PATRON);
	%
%	\node[relationship] (REPAIREDBY) [below right =3cm of LIBRARY] {REPAIRED\_BY} edge node[below, pos=0.6] {$\cM$} (LIBRARY) edge node[below, pos=0.6] {$1$} (PATRON);

	
%\node[entity] (COPY) {COPY};
%
%
%
%\node[relationship] (SPEAKS) [below right of=COPY] {SPEAKS} edge node[right, pos=0.4] {$M$} (COPY);
%\node[entity] (LANGUAGE) [below right of=SPEAKS] {LANGUAGE} edge node[right, pos=0.5] {$N$} (SPEAKS);
%\node[attribute] (code) [left of = LANGUAGE] {\key{Code}} edge (LANGUAGE);
%\node[attribute] (symbol) [right of = LANGUAGE] {Name} edge (LANGUAGE);
%
%\node[relationship] (BWF) [below of = LANGUAGE] {B\_W\_F};
%\draw (LANGUAGE) to node[left, pos=0.6] {$N$} (BWF.west);
%\draw (LANGUAGE) to node[right, pos=0.6] {$M$} (BWF.east);
%
%
%\node[multi attribute] (color) [right =1cm of anthem] {Creator} edge (anthem);

%
%\node[relationship] (WIN) [above right of =LANGUAGE] {W\_IN};
%\draw (LANGUAGE) to node[left, pos=0.6] {$N$} (WIN);
%\draw (anthem) to node[right, pos=0.6] {$M$} (WIN);

\end{tikzpicture}

\end{document}
