\documentclass[border=20pt]{standalone}
\input{template.def}

\begin{tikzpicture}[node distance=8em]
	\node[entity] (EMPLOYEE) {EMPLOYEE};
	\node[attribute] (make) [left of=EMPLOYEE] {\key{SSN}} edge (EMPLOYEE);
	\node[attribute] (year) [below left of =EMPLOYEE] {Role} edge (EMPLOYEE);
	\node[attribute] (brand) [below of =EMPLOYEE] {Name} edge (EMPLOYEE);

	\node[ident relationship] (RELATEDTO) [right of=EMPLOYEE] {RELATED TO} edge node[above, pos=0.3] {$1$} (EMPLOYEE);
	\node[weak entity] (DEPENDENT) [right = 1cm of RELATEDTO] {DEPENDENT} edge[total] node[above, pos=0.7] {$N$} (RELATEDTO);
	\node[attribute] (amount) [below of =DEPENDENT] {\pkey{Name}} edge (DEPENDENT);
	\node[attribute] (company) [below right of =DEPENDENT] {Address} edge (DEPENDENT);
\end{tikzpicture}

\end{document}
